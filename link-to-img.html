<!DOCTYPE html>
<html lang="en">

<head>
    <meta charSet="UTF-8">
    <link rel="shortcut icon" href="https://cdn.pixabay.com/animation/2023/02/13/09/42/09-42-58-584_512.gif" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Download Image Via Link</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <style>
        img {
            width: 100%;
            height: 350px;
            object-fit: cover;

        }

        .App {
            width: 100%;
            height: 100vh;
            background-image: url('https://cdn.pixabay.com/animation/2023/02/13/09/42/09-42-58-584_512.gif');
            background-position: 50%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 5rem;
        }
    </style>
</head>

<body>
    <!-- <img src="" />
    <input type="file" id="inputFile" /> -->
    <!-- 
    <script>
        const image = document.querySelector('img');
        const inputFile = document.querySelector('input');
        inputFile.addEventListener('change', () => {
            image.src = URL.createObjectURL(inputFile.files[0])
            console.log(image.src)

        })

    </script> -->

    <!-- ----------------------------------------------------------------   -->

    <div class="App">

        <div class="text-center text-white fw-bold ">
            <h1>Download image via link </h1>
            <p>
                just copy image address and past it in the box
            </p>
            <input class="form-control" type="text" placeholder="enter image address link" id="formFile">&nbsp;
            <button class="btn btn-success" style="width: 100%">download image</button>&nbsp;
            <!-- <img src="./images/searching.webp" alt="image may be founded" class="image" title="default image" /> -->
        </div>
    </div>

    <script>

        const text = document.querySelector('input');
        const btn = document.querySelector('button')


        btn.addEventListener('click', (event) => {
            event.preventDefault();
            const url = text.value;
         
            console.log(url)
            downloadImage(url);
        })


        function downloadImage(url) {

            fetch(url, {
                mode: 'no-cors',
            })
                .then(response => response.blob())
                .then(blob => {
                    let blobUrl = window.URL.createObjectURL(blob);
                    let a = document.createElement('a');
                    a.download = url.replace(/^.*[\\\/]/, '');
                    a.href = blobUrl;
                    document.body.appendChild(a);
                    a.click();
                    a.remove();
                })
        }



    </script>


    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
        crossorigin="anonymous"></script>
</body>

</html>